<table id="gamesTable"
       data-toggle="table"
       data-method="post"
       data-classes="table table-striped table-hover"
       data-search="true"
       data-show-refresh="true"
       data-show-toggle="true"
       data-show-columns="true"
       data-url="/ap/games">
    <thead>
    <tr>
      <th data-field="_id" data-formatter="idFormatter" data-visible="false">ID</th>
      <th data-field="teamname" data-formatter="gameFormatter" data-events="actionEvents" data-sortable="true">Nazwa dru≈ºyny</th>
      <th data-field="teamlogo" data-formatter="teamlogoFormatter" data-sortable="true">Logo</th>
      <th data-field="date" data-sortable="true">Data spotkania</th>
      <th data-field="action" data-formatter="actionFormatter" data-events="actionEvents">Action</th>
    </tr>
  </thead>
</table>

<script>
function idFormatter(value) {
    return '<a href="/ap/game/' + value + '">' + value + '</a>';
}
function gameFormatter(value) {
    return '<a class="game" href="" onclick="return false;" title="Game">' + value + '</a>';
}
function teamlogoFormatter(value) {
    return '<img src="' + value + '" height="32" width="32">';
}
function actionFormatter(value, row, index) {
    return [
        '<a class="like" href="" onclick="return false" title="Like">',
        '<i class="glyphicon glyphicon-heart"></i>',
        '</a>',
        '<a class="edit ml10" nohref onclick="return false;" title="Edit">',
        '<i class="glyphicon glyphicon-edit"></i>',
        '</a>',
        '<a class="remove ml10" href="" onclick="return false;" title="Remove">',
        '<i class="glyphicon glyphicon-remove"></i>',
        '</a>'
    ].join('');
}
function deleteGame(value) {
  $.ajax({
    type: 'DELETE',
    url: '/ap/game/' + value,
    success: function (result) {
      // Do something with the result
      console.log('obj');
    },
  });
}
window.actionEvents = {
  'click .game': function (e, value, row, index) {
    window.location.href = "/ap/game/" + row._id;
  },
  'click .like': function (e, value, row, index) {
    window.location.href = "/ap/game/" + row._id;
  },
  'click .edit': function (e, value, row, index) {
    console.log('obj');
  },
  'click .remove': function (e, value, row, index) {
    deleteGame(row._id);
    $('#gamesTable').bootstrapTable('refresh');
  }
};
</script>
